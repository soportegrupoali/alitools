<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orden de Trabajo - Elsy Lily Acosta Baeza</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-light" style="padding-top: 76px;">
    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="#">
                <i class="fas fa-building me-2"></i>
                Sistema de Órdenes de Trabajo
            </a>
            
            <!-- Date and Time Display -->
            <div class="navbar-text text-light d-none d-lg-block me-3">
                <i class="fas fa-calendar-alt me-2"></i>
                <span id="currentDateTime" class="fw-semibold"></span>
            </div>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">
                            <i class="fas fa-clipboard-list me-1"></i>Nueva Orden
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <i class="fas fa-list me-1"></i>Órdenes Activas
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <i class="fas fa-history me-1"></i>Historial
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <i class="fas fa-chart-bar me-1"></i>Reportes
                        </a>
                    </li>
                </ul>
                
                <!-- Mobile date/time display -->
                <div class="navbar-text text-light d-lg-none me-3">
                    <i class="fas fa-clock me-1"></i>
                    <span id="currentDateTimeMobile" class="small"></span>
                </div>
                
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user-circle me-1"></i>Usuario
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#"><i class="fas fa-user me-2"></i>Mi Perfil</a></li>
                            <li><a class="dropdown-item" href="#"><i class="fas fa-cog me-2"></i>Configuración</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#"><i class="fas fa-sign-out-alt me-2"></i>Cerrar Sesión</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container-fluid px-4 py-4">
        <div class="row justify-content-center">
            <div class="col-12 col-xl-10">
                <div class="card shadow-lg border-0 rounded-3">
                    <!-- Header -->
                    <div class="card-header bg-dark text-white text-center py-4">
                        <div class="row align-items-center">
                            <div class="col-md-2 text-center">
                                <div class="bg-white text-dark rounded-circle d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                                    <i class="fas fa-building fs-2"></i>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <h2 class="mb-1">ELSY LILY ACOSTA BAEZA</h2>
                                <p class="mb-2 fs-5">AOBE-590302-7DA</p>
                                <h4 class="mb-0"><i class="fas fa-clipboard-list me-2"></i>ORDEN DE TRABAJO</h4>
                            </div>
                            <div class="col-md-2 text-center">
                                <i class="fas fa-calendar-alt fa-3x opacity-50"></i>
                            </div>
                        </div>
                    </div>

                    <div class="card-body p-4">
                        <form id="workOrderForm">
                            <!-- Basic Information -->
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="orderNumber" class="form-label fw-semibold">
                                        <i class="fas fa-hashtag me-2 text-primary"></i>No. de Orden de Trabajo
                                    </label>
                                    <input type="text" class="form-control" id="orderNumber" name="orderNumber">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="orderDate" class="form-label fw-semibold">
                                        <i class="fas fa-calendar me-2 text-primary"></i>Fecha de Orden de Trabajo
                                    </label>
                                    <input type="date" class="form-control" id="orderDate" name="orderDate">
                                </div>
                            </div>

                            <div class="mb-4">
                                <label for="workDescription" class="form-label fw-semibold">
                                    <i class="fas fa-file-alt me-2 text-primary"></i>Descripción del Trabajo y/o Servicio
                                </label>
                                <textarea class="form-control" id="workDescription" name="workDescription" rows="3"></textarea>
                            </div>

                            <!-- Contractor Information -->
                            <div class="bg-light p-3 rounded mb-3 border-start border-5 border-primary">
                                <h5 class="mb-0 text-primary">
                                    <i class="fas fa-user-tie me-2"></i>1.- INFORMACIÓN DEL CONTRATISTA
                                </h5>
                            </div>

                            <div class="mb-3">
                                <label for="companyName" class="form-label">Razón Social del Contratista</label>
                                <input type="text" class="form-control" id="companyName" name="companyName">
                            </div>

                            <div class="bg-light p-3 rounded mb-3 border-start border-5 border-primary">
                                <h5 class="mb-0 text-primary">
                                    <i class="fas fa-user me-2"></i>2.- REPRESENTANTE LEGAL
                                </h5>
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="legalRepresentative" class="form-label">Nombre del Representante Legal</label>
                                    <input type="text" class="form-control" id="legalRepresentative" name="legalRepresentative">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="rfc" class="form-label">RFC</label>
                                    <input type="text" class="form-control" id="rfc" name="rfc" placeholder="RFC-000000-000">
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="imssRegistry" class="form-label">Registro Patronal IMSS</label>
                                    <input type="text" class="form-control" id="imssRegistry" name="imssRegistry">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="phone" class="form-label">
                                        <i class="fas fa-phone me-2 text-success"></i>Teléfono
                                    </label>
                                    <input type="tel" class="form-control" id="phone" name="phone">
                                </div>
                            </div>

                            <div class="mb-4">
                                <label for="address" class="form-label">
                                    <i class="fas fa-map-marker-alt me-2 text-danger"></i>Dirección
                                </label>
                                <textarea class="form-control" id="address" name="address" rows="2"></textarea>
                            </div>

                            <!-- Work Details -->
                            <div class="bg-light p-3 rounded mb-3 border-start border-5 border-primary">
                                <h5 class="mb-0 text-primary">
                                    <i class="fas fa-tools me-2"></i>3.- TRABAJOS A REALIZAR
                                </h5>
                            </div>

                            <div class="mb-4">
                                <textarea class="form-control" id="workDetails" name="workDetails" rows="6" placeholder="Detalle completo de los trabajos a realizar..."></textarea>
                            </div>

                            <!-- Cost Information -->
                            <div class="bg-light p-3 rounded mb-3 border-start border-5 border-primary">
                                <h5 class="mb-0 text-primary">
                                    <i class="fas fa-dollar-sign me-2"></i>4.- IMPORTE DE LOS TRABAJOS
                                </h5>
                            </div>

                            <div class="bg-info bg-opacity-10 p-4 rounded mb-4 border border-info border-opacity-25">
                                <div class="row">
                                    <div class="col-md-8 mb-3">
                                        <label for="workAmount" class="form-label fw-semibold">Importe de los Trabajos</label>
                                        <div class="input-group">
                                            <span class="input-group-text bg-primary text-white">$</span>
                                            <input type="number" class="form-control" id="workAmount" name="workAmount" step="0.01" oninput="calculateTotals()">
                                        </div>
                                    </div>
                                    <div class="col-md-4 mb-3 d-flex align-items-end">
                                        <button type="button" class="btn btn-success w-100" onclick="calculateTotals()">
                                            <i class="fas fa-calculator me-2"></i>Calcular
                                        </button>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="iva" class="form-label">16% I.V.A.</label>
                                        <div class="input-group">
                                            <span class="input-group-text">$</span>
                                            <input type="number" class="form-control" id="iva" name="iva" step="0.01" readonly>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="total" class="form-label fw-bold">TOTAL</label>
                                        <div class="input-group">
                                            <span class="input-group-text bg-success text-white">$</span>
                                            <input type="number" class="form-control fw-bold" id="total" name="total" step="0.01" readonly>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-0">
                                    <label for="totalInWords" class="form-label">Total en Letra</label>
                                    <input type="text" class="form-control" id="totalInWords" name="totalInWords" placeholder="Son: _____ pesos 00/100 M.N.">
                                </div>
                            </div>

                            <!-- Declaration -->
                            <div class="alert alert-warning text-center fw-semibold mb-4" role="alert">
                                <h6 class="alert-heading mb-2">EL CONTRATISTA DECLARA:</h6>
                                ME COMPROMETO A REALIZAR LOS TRABAJOS SOLICITADOS CON CALIDAD<br>
                                Y ENTREGAR CORRECTAMENTE EN TIEMPO Y FORMA.
                            </div>

                            <!-- Signatures -->
                            <div class="bg-light p-4 rounded mb-4">
                                <div class="row">
                                    <div class="col-md-6 mb-4">
                                        <label for="manager" class="form-label fw-semibold">
                                            <i class="fas fa-user-tie me-2 text-primary"></i>Autoriza (Gerente):
                                        </label>
                                        <select class="form-select" id="manager" name="manager" required>
                                            <option value="">Seleccionar Gerente...</option>
                                            <option value="Carlos García">Carlos García</option>
                                            <option value="Vladimir Sagredo">Vladimir Sagredo</option>
                                            <option value="Johnny Bench">Johnny Bench</option>
                                        </select>
                                        <p class="text-muted small mt-2">Gerencia de Área que autoriza</p>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <label for="contractor" class="form-label fw-semibold">
                                            <i class="fas fa-user-check me-2 text-success"></i>Prestador de Servicio:
                                        </label>
                                        <select class="form-select" id="contractor" name="contractor" required>
                                            <option value="">Seleccionar Contratista...</option>
                                            <option value="Aaron Cauchi">Aaron Cauchi</option>
                                            <option value="Israel Dominguez">Israel Dominguez</option>
                                            <option value="Ricardo Gonzalez">Ricardo Gonzalez</option>
                                        </select>
                                        <p class="text-muted small mt-2">Prestador de Servicio</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Annexes -->
                            <div class="bg-light p-3 rounded mb-3 border-start border-5 border-primary">
                                <h5 class="mb-0 text-primary">
                                    <i class="fas fa-paperclip me-2"></i>ANEXOS
                                </h5>
                            </div>

                            <div class="bg-secondary bg-opacity-10 p-3 rounded mb-4">
                                <div class="row">
                                    <div class="col-md-3 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="budget" name="annexes[]" value="presupuesto">
                                            <label class="form-check-label" for="budget">
                                                <i class="fas fa-calculator me-2 text-info"></i>Presupuesto
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="guarantees" name="annexes[]" value="garantias">
                                            <label class="form-check-label" for="guarantees">
                                                <i class="fas fa-shield-alt me-2 text-success"></i>Garantías
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="locationMap" name="annexes[]" value="croquis">
                                            <label class="form-check-label" for="locationMap">
                                                <i class="fas fa-map me-2 text-warning"></i>Croquis de Ubicación
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-3 mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="photos" name="annexes[]" value="fotos">
                                            <label class="form-check-label" for="photos">
                                                <i class="fas fa-camera me-2 text-danger"></i>Fotos
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-3">
                                    <div class="col-12">
                                        <label for="otherAnnexes" class="form-label">Otros (Especificar):</label>
                                        <input type="text" class="form-control" id="otherAnnexes" name="otherAnnexes">
                                    </div>
                                </div>
                            </div>

                            <!-- Observations -->
                            <div class="mb-4">
                                <label for="observations" class="form-label fw-semibold">
                                    <i class="fas fa-sticky-note me-2 text-info"></i>OBSERVACIONES
                                </label>
                                <textarea class="form-control" id="observations" name="observations" rows="4"></textarea>
                            </div>

                            <!-- Submit Button -->
                            <div class="text-center">
                                <button type="submit" class="btn btn-dark btn-lg px-5">
                                    <i class="fas fa-save me-2"></i>Generar Orden de Trabajo
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white mt-5">
        <div class="container-fluid py-4">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <h5 class="fw-bold mb-3">
                        <i class="fas fa-building me-2"></i>
                        Elsy Lily Acosta Baeza
                    </h5>
                    <p class="text-light mb-2">
                        <i class="fas fa-id-card me-2"></i>
                        RFC: AOBE-590302-7DA
                    </p>
                    <p class="text-light mb-0">
                        <i class="fas fa-tools me-2"></i>
                        Sistema integral de gestión de órdenes de trabajo
                    </p>
                </div>
                <div class="col-md-4 mb-3">
                    <h6 class="fw-semibold mb-3">Enlaces Rápidos</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <a href="#" class="text-light text-decoration-none">
                                <i class="fas fa-plus-circle me-2"></i>Nueva Orden
                            </a>
                        </li>
                        <li class="mb-2">
                            <a href="#" class="text-light text-decoration-none">
                                <i class="fas fa-search me-2"></i>Buscar Órdenes
                            </a>
                        </li>
                        <li class="mb-2">
                            <a href="#" class="text-light text-decoration-none">
                                <i class="fas fa-download me-2"></i>Descargar Reportes
                            </a>
                        </li>
                        <li class="mb-0">
                            <a href="#" class="text-light text-decoration-none">
                                <i class="fas fa-question-circle me-2"></i>Ayuda
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="col-md-4 mb-3">
                    <h6 class="fw-semibold mb-3">Información del Sistema</h6>
                    <p class="text-light small mb-2">
                        <i class="fas fa-clock me-2"></i>
                        Última actualización: <span id="lastUpdate"></span>
                    </p>
                    <p class="text-light small mb-2">
                        <i class="fas fa-database me-2"></i>
                        Versión del sistema: 1.0.0
                    </p>
                    <p class="text-light small mb-0">
                        <i class="fas fa-shield-alt me-2"></i>
                        Datos protegidos con SSL
                    </p>
                </div>
            </div>
            <hr class="border-secondary my-4">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="text-light small mb-0">
                        © 2025 Sistema de Órdenes de Trabajo. Todos los derechos reservados.
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <small class="text-light">
                        <i class="fas fa-code me-1"></i>
                        Desarrollado con Bootstrap 5
                    </small>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script>
        function calculateTotals() {
            const workAmount = parseFloat(document.getElementById('workAmount').value) || 0;
            const iva = workAmount * 0.16;
            const total = workAmount + iva;
            
            document.getElementById('iva').value = iva.toFixed(2);
            document.getElementById('total').value = total.toFixed(2);
        }

        // Form submission handler
        document.getElementById('workOrderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Basic validation
            const requiredFields = ['orderNumber', 'orderDate', 'workDescription', 'companyName', 'manager', 'contractor'];
            let isValid = true;
            
            requiredFields.forEach(field => {
                const element = document.getElementById(field);
                if (!element.value.trim()) {
                    element.classList.add('is-invalid');
                    isValid = false;
                } else {
                    element.classList.remove('is-invalid');
                }
            });
            
            if (isValid) {
                alert('Orden de trabajo generada exitosamente. En un sistema real, esta información se enviaría al servidor.');
                console.log('Form data:', new FormData(this));
            } else {
                alert('Por favor, complete todos los campos obligatorios.');
            }
        });

        // Set current date as default
        document.getElementById('orderDate').value = new Date().toISOString().split('T')[0];
        
        // Auto-generate order number
        document.getElementById('orderNumber').value = 'OT-' + new Date().getFullYear() + '-' + 
                                                      String(Date.now()).slice(-6);

        // Update footer timestamp
        document.getElementById('lastUpdate').textContent = new Date().toLocaleString('es-ES');

        // Function to update date and time in header
        function updateDateTime() {
            const now = new Date();
            
            // Days of the week in Spanish
            const daysOfWeek = ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'];
            const dayOfWeek = daysOfWeek[now.getDay()];
            
            // Format date as DD/MM/YYYY
            const day = String(now.getDate()).padStart(2, '0');
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const year = now.getFullYear();
            const formattedDate = `${day}/${month}/${year}`;
            
            // Format time as HH:MM AM/PM
            let hours = now.getHours();
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12; // the hour '0' should be '12'
            const formattedTime = `${hours}:${minutes} ${ampm}`;
            
            // Full datetime string
            const fullDateTime = `${dayOfWeek}, ${formattedDate} - ${formattedTime}`;
            const mobileDateTime = `${formattedDate} ${formattedTime}`;
            
            // Update both desktop and mobile displays
            const desktopElement = document.getElementById('currentDateTime');
            const mobileElement = document.getElementById('currentDateTimeMobile');
            
            if (desktopElement) {
                desktopElement.textContent = fullDateTime;
            }
            if (mobileElement) {
                mobileElement.textContent = mobileDateTime;
            }
        }

        // Update immediately and then every second
        updateDateTime();
        setInterval(updateDateTime, 1000);
    </script>
</body>
</html>